<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scan Serial</title>
  <script src="https://unpkg.com/html5-qrcode"></script>
</head>

<body style="font-family: Arial; padding: 10px">

<h3>QuÃ©t Serial Soundbox</h3>

<input id="serial" placeholder="Serial sáº½ tá»± Ä‘iá»n" style="width:100%;font-size:16px"><br><br>

<button onclick="startScan()" style="font-size:16px">ğŸ“· QuÃ©t mÃ£ váº¡ch</button>
<button onclick="submitData()" style="font-size:16px">ğŸ“¤ Gá»­i</button>

<div id="reader" style="width:100%;margin-top:10px"></div>

<script>
let scanner;

function startScan() {
  document.getElementById("reader").innerHTML = "";

  scanner = new Html5Qrcode("reader");

  scanner.start(
    { facingMode: "environment" },
    {
      fps: 10,
      qrbox: { width: 250, height: 100 },
      formatsToSupport: [
        Html5QrcodeSupportedFormats.CODE_128,
        Html5QrcodeSupportedFormats.EAN_13,
        Html5QrcodeSupportedFormats.EAN_8,
        Html5QrcodeSupportedFormats.UPC_A,
        Html5QrcodeSupportedFormats.UPC_E
      ]
    },
    (text) => {
      document.getElementById("serial").value = text;
      scanner.stop();
    },
    (err) => {}
  );
}

function submitData() {
  fetch("https://script.google.com/macros/library/d/1YD8S38iGxJDLRnwIdjpIq4L-sgj-C0ySmMYpz_iuJN_VNC0r6qeuQ4ud/1", {
    method: "POST",
    body: JSON.stringify({
      serial: document.getElementById("serial").value
    })
  })
  .then(() => alert("ÄÃ£ lÆ°u"));
}
</script>

</body>
</html>
